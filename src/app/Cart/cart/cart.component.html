<div class="cart-container">
  <!-- Cart Section -->
  <div class="cart-left">
    <div class="cart-header">
      <h3>Shopping Cart</h3>
      <span class="cart-count">{{ CartItems.length }} items</span>
    </div>

    <div *ngIf="CartItems.length > 0; else emptyCart" class="cart-list">
      <div class="cart-item" *ngFor="let item of CartItems">
        <img
          [src]="item.imageUrl"
          [alt]="item.name"
          (click)="productdescription(item)"
          loading="lazy"
        />
        <div class="cart-item-details">
          <div class="item-info">
            <span class="item-name">{{ item.name }}</span>
            <span class="item-size">Size: <span class="badge">{{ item.selectedSize }}</span></span>
            <span class="item-price">{{ item.price | currency }}</span>
          </div>

          <div class="item-quantity">
            <button
              (click)="decreaseQuantityCart(item.id, item.selectedSize)"
              [attr.aria-label]="'Decrease quantity of ' + item.name"
            >
              −
            </button>
            <input
              type="text"
              [value]="item.quantity"
              readonly
              [attr.aria-label]="'Quantity of ' + item.name"
            />
            <button
              (click)="addQuantityCart(item.id, item.selectedSize)"
              [attr.aria-label]="'Increase quantity of ' + item.name"
            >
              +
            </button>
          </div>
        </div>

        <button
          class="btn-delete"
          (click)="removeFromCart(item.id, item.selectedSize)"
          [attr.aria-label]="'Remove ' + item.name + ' from cart'"
        >
          ×
        </button>
      </div>
    </div>

    <ng-template #emptyCart>
      <div class="no-products">
        <div class="no-products-content">
         
          <h3>Your cart is empty</h3>
          <p>Browse products and add items to your cart.</p>
          <a routerLink="/home" class="back-btn">Back to shop</a>
        </div>
      </div>
    </ng-template>
  </div>

  <!-- Summary Section -->
  <div class="cart-right" *ngIf="CartItems.length > 0">
    <h4>Order Summary</h4>
    <div class="summary-card">
      <div class="summary-row">
        <span>Items</span>
        <span>{{ CartItems.length }}</span>
      </div>
      <div class="summary-row">
        <span>Subtotal</span>
        <span>{{ getTotal() | currency }}</span>
      </div>

      <div class="form-section">
        <label for="shipping">Shipping Method</label>
        <select id="shipping">
          <option>Standard Delivery - Free</option>
          <option>Express Delivery - $10</option>
        </select>
      </div>

      <div class="form-section">
        <label for="promo">Promo Code</label>
        <input type="text" id="promo" placeholder="Enter your code" />
      </div>

      <hr />

      <div class="summary-row total">
        <span>Total</span>
        <span>{{ getTotal() | currency }}</span>
      </div>

      <button class="btn-checkout" (click)="checkout()">Checkout</button>
    </div>
  </div>
</div>
